{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\broy9\\\\OneDrive\\\\Desktop\\\\TOPPR\\\\Quizmania-Level3-main\\\\src\\\\screens\\\\SignUp.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Picker } from '@react-native-picker/picker';\nimport ValidationComponent from 'react-native-form-validator';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport firebase from \"../FirebaseConfig\";\nimport BasicButton from \"../components/BasicButton\";\nimport LoginSignUpBtn from \"../components/LoginSignUpBtn\";\nimport SnackBar from \"../components/SnackBar\";\n\nvar SignUp = function (_ValidationComponent) {\n  _inherits(SignUp, _ValidationComponent);\n\n  var _super = _createSuper(SignUp);\n\n  function SignUp(props) {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _super.call(this, props);\n\n    _this.handleRegisterBtnClick = function () {\n      _this.displayLoader();\n\n      _this.validate({\n        name: {\n          minlength: 3,\n          required: true\n        },\n        email: {\n          email: true,\n          required: true\n        },\n        ageGroup: {\n          required: true\n        },\n        password: {\n          required: true\n        },\n        confirmPassword: {\n          equalPassword: _this.state.password,\n          required: true\n        }\n      });\n\n      if (_this.getErrorMessages()) {\n        _this.hideLoader();\n\n        _this.displaySnackBar(\"error\", _this.getErrorMessages());\n      } else {\n        firebase.auth().createUserWithEmailAndPassword(_this.state.email, _this.state.password).then(function (user) {\n          try {\n            var userId = user.user.uid;\n            var name = _this.state.name;\n            var email = _this.state.email;\n            var ageGroup = _this.state.ageGroup;\n            var usersDbRef = firebase.app().database().ref('users/');\n            usersDbRef.child(userId).set({\n              userId: userId,\n              name: name,\n              email: email,\n              ageGroup: ageGroup,\n              profilePicUri: \"\",\n              desc: \"\"\n            }, function _callee(error) {\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      if (!error) {\n                        _context.next = 5;\n                        break;\n                      }\n\n                      _this.hideLoader();\n\n                      _this.displaySnackBar(\"error\", \"Something went wrong\");\n\n                      _context.next = 19;\n                      break;\n\n                    case 5:\n                      _context.prev = 5;\n                      _context.next = 8;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"loggedUserEmail\", email));\n\n                    case 8:\n                      _context.next = 10;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"loggedUserId\", userId));\n\n                    case 10:\n                      _this.hideLoader();\n\n                      _this.displaySnackBar(\"success\", \"Successfully Registered\");\n\n                      _this.props.navigation.push('Dashboard');\n\n                      _context.next = 19;\n                      break;\n\n                    case 15:\n                      _context.prev = 15;\n                      _context.t0 = _context[\"catch\"](5);\n\n                      _this.hideLoader();\n\n                      _this.displaySnackBar(\"error\", \"Something went wrong\");\n\n                    case 19:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, [[5, 15]], Promise);\n            });\n          } catch (_unused2) {\n            _this.hideLoader();\n\n            _this.displaySnackBar(\"error\", \"Something went wrong\");\n          }\n        }).catch(function (error) {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n\n          _this.hideLoader();\n\n          _this.displaySnackBar(\"error\", errorMessage);\n        });\n      }\n    };\n\n    _this.handleSignInBtnClick = function () {\n      _this.props.navigation.navigate('Login');\n    };\n\n    _this.displaySnackBar = function (type, text) {\n      _this.setState({\n        \"snackBarType\": type,\n        \"snackBarText\": text\n      });\n\n      _this.setState({\n        \"snackBarVisible\": true\n      });\n    };\n\n    _this.hideSnackBar = function () {\n      _this.setState({\n        \"snackBarVisible\": false\n      });\n    };\n\n    _this.displayLoader = function () {\n      _this.setState({\n        isLoading: true\n      });\n    };\n\n    _this.hideLoader = function () {\n      _this.setState({\n        isLoading: false\n      });\n    };\n\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      ageGroup: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      isLoading: false,\n      snackBarVisible: false,\n      snackBarType: \"\",\n      snackBarText: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(ScrollView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.form,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, \"Name\"), React.createElement(TextInput, {\n        style: styles.inputField,\n        placeholder: \"Enter your name\",\n        value: this.state.name,\n        onChangeText: function onChangeText(name) {\n          return _this2.setState({\n            name: name\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        style: styles.divider,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, \"Email Address\"), React.createElement(TextInput, {\n        style: styles.inputField,\n        keyboardType: \"email-address\",\n        placeholder: \"Enter your registered email\",\n        value: this.state.email,\n        onChangeText: function onChangeText(email) {\n          return _this2.setState({\n            email: email\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        style: styles.divider,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, \"Age Group\"), React.createElement(Picker, {\n        style: styles.inputField,\n        selectedValue: this.state.ageGroup,\n        onValueChange: function onValueChange(ageGroup, itemIndex) {\n          return _this2.setState({\n            ageGroup: ageGroup\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, React.createElement(Picker.Item, {\n        label: \"\",\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"1-4\",\n        value: \"1-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 29\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"5-12\",\n        value: \"5-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"13-18\",\n        value: \"13-18\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 29\n        }\n      })), React.createElement(View, {\n        style: styles.divider,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }, \"Password\"), React.createElement(TextInput, {\n        style: styles.inputField,\n        secureTextEntry: true,\n        placeholder: \"Enter password\",\n        value: this.state.password,\n        onChangeText: function onChangeText(password) {\n          return _this2.setState({\n            password: password\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        style: styles.divider,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }\n      }, \"Confirm Password\"), React.createElement(TextInput, {\n        style: styles.inputField,\n        secureTextEntry: true,\n        placeholder: \"Confirm password\",\n        value: this.state.confirmPassword,\n        onChangeText: function onChangeText(confirmPassword) {\n          return _this2.setState({\n            confirmPassword: confirmPassword\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      })), React.createElement(BasicButton, {\n        text: \"Register\",\n        onPress: this.handleRegisterBtnClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }\n      }), this.state.isLoading ? React.createElement(ActivityIndicator, {\n        style: styles.loader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 29\n        }\n      }) : null, React.createElement(LoginSignUpBtn, {\n        customStyle: styles.signin,\n        text: \"Already have an account?\",\n        btnText: \"Log in\",\n        onPress: this.handleSignInBtnClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }\n      })), this.state.snackBarVisible ? React.createElement(SnackBar, {\n        isVisible: this.state.snackBarVisible,\n        text: this.state.snackBarText,\n        type: this.state.snackBarType,\n        onClose: this.hideSnackBar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }\n      }) : null);\n    }\n  }]);\n\n  return SignUp;\n}(ValidationComponent);\n\nexport { SignUp as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    marginTop: 0,\n    paddingHorizontal: 30\n  },\n  title: {\n    fontWeight: '500',\n    fontSize: 20,\n    letterSpacing: 0.1,\n    color: '#2E2E2E'\n  },\n  form: {\n    marginVertical: 35\n  },\n  label: {\n    fontSize: 16,\n    lineHeight: 18,\n    color: '#666666',\n    marginBottom: 3\n  },\n  inputField: {\n    fontSize: 14,\n    borderWidth: 0,\n    borderBottomWidth: 1,\n    borderBottomColor: '#BFBFBF',\n    paddingVertical: 6\n  },\n  divider: {\n    paddingVertical: 8\n  },\n  loader: {\n    marginTop: 10\n  },\n  signin: {\n    marginVertical: 40\n  },\n  snackbar: {\n    backgroundColor: \"red\"\n  }\n});","map":{"version":3,"sources":["C:/Users/broy9/OneDrive/Desktop/TOPPR/Quizmania-Level3-main/src/screens/SignUp.js"],"names":["React","Picker","ValidationComponent","AsyncStorage","firebase","BasicButton","LoginSignUpBtn","SnackBar","SignUp","props","handleRegisterBtnClick","displayLoader","validate","name","minlength","required","email","ageGroup","password","confirmPassword","equalPassword","state","getErrorMessages","hideLoader","displaySnackBar","auth","createUserWithEmailAndPassword","then","user","userId","uid","usersDbRef","app","database","ref","child","set","profilePicUri","desc","error","setItem","navigation","push","catch","errorCode","code","errorMessage","message","handleSignInBtnClick","navigate","type","text","setState","hideSnackBar","isLoading","snackBarVisible","snackBarType","snackBarText","styles","container","form","label","inputField","divider","itemIndex","loader","signin","StyleSheet","create","flex","backgroundColor","marginTop","paddingHorizontal","title","fontWeight","fontSize","letterSpacing","color","marginVertical","lineHeight","marginBottom","borderWidth","borderBottomWidth","borderBottomColor","paddingVertical","snackbar"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View, TextInput, ScrollView, ActivityIndicator, } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport ValidationComponent from 'react-native-form-validator';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport firebase from '../FirebaseConfig';\n\nimport BasicButton from \"../components/BasicButton\";\nimport LoginSignUpBtn from \"../components/LoginSignUpBtn\";\nimport SnackBar from \"../components/SnackBar\";\n\nexport default class SignUp extends ValidationComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: \"\",\n            email: \"\",\n            ageGroup: \"\",\n            password: \"\",\n            confirmPassword: \"\",\n\n            isLoading: false,\n\n            snackBarVisible: false,\n            snackBarType: \"\",\n            snackBarText: \"\",\n        };\n    }\n\n    //function to handle when signup btn is clicked on\n    handleRegisterBtnClick = () => {\n        this.displayLoader();\n\n        //validating fields using 3rd party library\n        this.validate({\n            name: { minlength: 3, required: true },\n            email: { email: true, required: true },\n            ageGroup: { required: true },\n            password: { required: true },\n            confirmPassword: { equalPassword: this.state.password, required: true },\n        });\n\n        //if some error found in validation\n        //then displaying it in snackbar\n        if (this.getErrorMessages()) {\n            this.hideLoader();\n            this.displaySnackBar(\"error\", this.getErrorMessages());\n        } else {\n            //doing firebase auth\n            firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.password)\n                .then((user) => {\n                    try {\n                        //inserting user data in firebase db\n                        const userId = user.user.uid;\n                        const name = this.state.name;\n                        const email = this.state.email;\n                        const ageGroup = this.state.ageGroup;\n\n                        const usersDbRef = firebase.app().database().ref('users/');\n                        usersDbRef\n                            .child(userId)\n                            .set({\n                                userId,\n                                name,\n                                email,\n                                ageGroup,\n                                profilePicUri: \"\",\n                                desc: \"\",\n                            },\n                                async (error) => {\n                                    if (error) {\n                                        this.hideLoader();\n                                        this.displaySnackBar(\"error\", \"Something went wrong\");\n                                    } else {\n                                        try {\n                                            //making cookie of the logged user\n                                            await AsyncStorage.setItem(\"loggedUserEmail\", email);\n                                            await AsyncStorage.setItem(\"loggedUserId\", userId);\n\n                                            this.hideLoader();\n                                            this.displaySnackBar(\"success\", \"Successfully Registered\");\n                                            this.props.navigation.push('Dashboard');\n                                        } catch {\n                                            this.hideLoader();\n                                            this.displaySnackBar(\"error\", \"Something went wrong\");\n                                        }\n                                    }\n                                });\n                    } catch {\n                        this.hideLoader();\n                        this.displaySnackBar(\"error\", \"Something went wrong\");\n                    }\n                })\n                .catch((error) => {\n                    var errorCode = error.code;\n                    var errorMessage = error.message;\n\n                    this.hideLoader();\n                    this.displaySnackBar(\"error\", errorMessage);\n                });\n        }\n    }\n\n    //function to handle when sign in btn is clicked on\n    handleSignInBtnClick = () => {\n        this.props.navigation.navigate('Login');\n    }\n\n    //function to display snackbar\n    displaySnackBar = (type, text) => {\n        this.setState({\n            \"snackBarType\": type,\n            \"snackBarText\": text,\n        });\n        this.setState({\n            \"snackBarVisible\": true\n        });\n    }\n\n    //function to hide snackbar\n    hideSnackBar = () => {\n        this.setState({\n            \"snackBarVisible\": false\n        });\n    }\n\n    //function to toogle loading bar\n    displayLoader = () => {\n        this.setState({\n            isLoading: true,\n        });\n    }\n\n    hideLoader = () => {\n        this.setState({\n            isLoading: false,\n        });\n    }\n\n    //component rendering\n    render() {\n        return (\n            <>\n                <ScrollView style={styles.container}>\n\n                    <View style={styles.form}>\n                        <Text style={styles.label}>Name</Text>\n                        <TextInput\n                            style={styles.inputField}\n                            placeholder=\"Enter your name\"\n                            value={this.state.name}\n                            onChangeText={(name) => this.setState({ name })}\n                        />\n\n                        <View style={styles.divider}></View>\n\n                        <Text style={styles.label}>Email Address</Text>\n                        <TextInput\n                            style={styles.inputField}\n                            keyboardType=\"email-address\"\n                            placeholder=\"Enter your registered email\"\n                            value={this.state.email}\n                            onChangeText={(email) => this.setState({ email })}\n                        />\n\n                        <View style={styles.divider}></View>\n\n                        <Text style={styles.label}>Age Group</Text>\n                        <Picker\n                            style={styles.inputField}\n                            selectedValue={this.state.ageGroup}\n                            onValueChange={(ageGroup, itemIndex) => this.setState({ ageGroup })}\n                        >\n                            <Picker.Item label=\"\" value=\"\" />\n                            <Picker.Item label=\"1-4\" value=\"1-4\" />\n                            <Picker.Item label=\"5-12\" value=\"5-12\" />\n                            <Picker.Item label=\"13-18\" value=\"13-18\" />\n                        </Picker>\n\n                        <View style={styles.divider}></View>\n\n                        <Text style={styles.label}>Password</Text>\n                        <TextInput\n                            style={styles.inputField}\n                            secureTextEntry\n                            placeholder=\"Enter password\"\n                            value={this.state.password}\n                            onChangeText={(password) => this.setState({ password })}\n                        />\n\n                        <View style={styles.divider}></View>\n\n                        <Text style={styles.label}>Confirm Password</Text>\n                        <TextInput\n                            style={styles.inputField}\n                            secureTextEntry\n                            placeholder=\"Confirm password\"\n                            value={this.state.confirmPassword}\n                            onChangeText={(confirmPassword) => this.setState({ confirmPassword })}\n                        />\n                    </View>\n\n                    <BasicButton\n                        text=\"Register\"\n                        onPress={this.handleRegisterBtnClick}\n                    />\n\n                    {\n                        this.state.isLoading ?\n                            <ActivityIndicator style={styles.loader} />\n                            : null\n                    }\n\n                    <LoginSignUpBtn\n                        customStyle={styles.signin}\n                        text=\"Already have an account?\"\n                        btnText=\"Log in\"\n                        onPress={this.handleSignInBtnClick}\n                    />\n                </ScrollView>\n\n                {\n                    this.state.snackBarVisible ?\n                        <SnackBar\n                            isVisible={this.state.snackBarVisible}\n                            text={this.state.snackBarText}\n                            type={this.state.snackBarType}\n                            onClose={this.hideSnackBar}\n                        />\n                        : null\n                }\n            </>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#fff',\n        marginTop: 0,\n        paddingHorizontal: 30,\n    },\n\n    title: {\n        fontWeight: '500',\n        fontSize: 20,\n        letterSpacing: 0.1,\n        color: '#2E2E2E',\n    },\n\n    form: {\n        marginVertical: 35,\n    },\n\n    label: {\n        fontSize: 16,\n        lineHeight: 18,\n        color: '#666666',\n        marginBottom: 3,\n    },\n\n    inputField: {\n        fontSize: 14,\n        borderWidth: 0,\n        borderBottomWidth: 1,\n        borderBottomColor: '#BFBFBF',\n        paddingVertical: 6,\n    },\n\n    divider: {\n        paddingVertical: 8,\n    },\n\n    loader: {\n        marginTop: 10,\n    },\n\n    signin: {\n        marginVertical: 40,\n    },\n\n    snackbar: {\n        backgroundColor: \"red\",\n    }\n});\n"]},"metadata":{},"sourceType":"module"}